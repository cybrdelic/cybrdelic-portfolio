<!DOCTYPE html>
<section>
    <div class="container">
        <div class="timeline">
            {% for event in career_timeline %}
            <div class="timeline-item">
                <div class="timeline-dot"></div>

                <div class="timeline-content">
                    <div class="timeline-header">
                        <div class="company">{{ event.company_name }}</div>
                        <h2 class="position">{{ event.title }}</h2>
                        <div class="meta">
                            <div class="date">{{ event.start_date }} â€” {{ event.end_date }}</div>
                            <div class="location">{{ event.location }}</div>
                        </div>
                    </div>

                    <div class="timeline-body">
                        <p class="description">{{ event.description }}</p>

                        <div class="topic-grid">
                            {% for topic in event.topics %}
                            <div class="topic-card" tabindex="0">
                                <h3 class="topic-name">{{ topic.name }}</h3>
                                <div class="topic-details">
                                    <p>{{ topic.description }}</p>
                                </div>
                            </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Reveal items on scroll
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    }
                });
            }, { threshold: 0.1 });

            document.querySelectorAll('.timeline-item').forEach(item => {
                observer.observe(item);
            });

            // Topic card expansion
            document.querySelectorAll('.topic-card').forEach(card => {
                card.addEventListener('click', () => {
                    card.classList.toggle('expanded');
                });

                card.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        card.classList.toggle('expanded');
                    }
                });
            });
        });
    </script>
    <section>
